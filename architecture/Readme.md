

## Описание



## Service Diagram

![Service Diagram](./MoviesArch-Main.drawio.png)

[src](./MoviesArch-Main.drawio.png)


## Описание сервисов

### Admin Service

Сервис по управлению данными кинопроизведений, персон, жанров.

Задачи сервиса:
1. Предоставлять возможность авторизовываться пользователям с административной или менеджерской ролью
2. Предоставлять доступ на создание и редактирование кинопроизведений, персон, жанров
3. todo: Предоставлять доступ по управлению пользователями сервиса - блокировка доступа, назначение ролей, вход под виртуальным пользователем

### Auth Service

Единый сервис авторизации.

Задачи сервиса:
1. Регистрировать пользователей в системе. В том числе и через сторонние сервисы (yandex, vk, google)
2. Предоставлять доступ личным данным пользователя (ФИО, e-mail, и т.п.)
3. Предоставлять доступ на изменение личных данных пользователя
4. Для администраторов предоставлять доступ на добавление ролей пользователям

Сервис авторизации отдает клиенту access_token. В access_token указаны:
* user_id - Единый идентификатор пользователя в системе
* todo: Роль
* todo: Пермишены


### ETL Service

Внутренний транспортный сервис по переносу данных из БД movies в ES movies.

Задачи сервиса:
1. Своевременно обновлять данные по фильмам для сервиса movies

### Movies Service

Задачи сервиса:
1. Предоставлять доступ авторизованным пользователям к получению информации о кинопроизведений 
2. 

### UGC Service

Задачи сервиса:
1.  


## Технологии

FastApi, Postgres, Redis, Kafka, ClickHouse


## Поведение при выпадении одного из сервисов

Полная деградация? `¯\_(ツ)_/¯`

